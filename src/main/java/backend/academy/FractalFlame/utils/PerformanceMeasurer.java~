package backend.academy.FractalFlame.utils;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;


public final class PerformanceMeasurer {

    private static final Logger LOGGER = LogManager.getLogger(PerformanceMeasurer.class);
    private static final double NANOSECONDS_TO_SECONDS = 1_000_000_000.0;

    private PerformanceMeasurer() {
        throw new UnsupportedOperationException("Utility class");
    }

    /**
     * Measures the execution time of the assigned task.
     *
     * @param task
     *            the task to complete
     *
     * @return execution time in nanoseconds
     */
    public static long measureExecutionTime(Runnable task) {
        long startTime = System.nanoTime();
        task.run();
        return System.nanoTime() - startTime;
    }

    /**
     * Logs performance results.
     *
     * @param rendererType
     * type of render
     * @param duration
     * Execution time in nanoseconds
     */
    public static void logPerformanceResults(String rendererType, long duration) {
        double durationInSeconds = duration / NANOSECONDS_TO_SECONDS;
        LOGGER.info("{} реализация заняла: {} секунд", rendererType, durationInSeconds);
    }
}
